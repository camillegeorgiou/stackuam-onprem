{"attributes":{"color":"#54B399","description":"","name":"stack-uam"},"coreMigrationVersion":"8.8.0","created_at":"2024-06-02T09:23:52.557Z","id":"d5dd4650-b0e2-11ee-ad73-c1230f56bc9d","managed":false,"references":[],"type":"tag","typeMigrationVersion":"8.0.0","updated_at":"2024-06-02T09:23:52.557Z","version":"Wzk3NzEsMTZd"}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"title":"[Stack UAM] Sankey User to Index","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"[Stack UAM] Sankey User to Index\",\"type\":\"vega\",\"aggs\":[],\"params\":{\"spec\":\"{\\n  \\\"$schema\\\": \\\"https://vega.github.io/schema/vega/v5.json\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"name\\\": \\\"rawData\\\",\\n      \\\"url\\\": {\\n        \\\"%context%\\\": true,\\n        \\\"%timefield%\\\": \\\"@timestamp\\\",\\n        \\\"index\\\": \\\"elastic-logs-8*\\\",\\n        \\\"body\\\": {\\n          \\\"size\\\": 0,\\n          \\\"aggs\\\": {\\n            \\\"table\\\": {\\n              \\\"composite\\\": {\\n                \\\"size\\\": 10000,\\n                \\\"sources\\\": [\\n                  {\\\"stk1\\\": {\\\"terms\\\": {\\\"field\\\": \\\"user.name\\\"}}},\\n                  {\\n                    \\\"stk2\\\": {\\n                      \\\"terms\\\": {\\\"field\\\": \\\"elasticsearch.uam.search.index\\\"}\\n                    }\\n                  }\\n                ]\\n              }\\n            }\\n          }\\n        }\\n      },\\n      \\\"format\\\": {\\\"property\\\": \\\"aggregations.table.buckets\\\"},\\n      \\\"transform\\\": [\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"datum.key.stk1\\\", \\\"as\\\": \\\"stk1\\\"},\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"datum.key.stk2\\\", \\\"as\\\": \\\"stk2\\\"},\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"datum.doc_count\\\", \\\"as\\\": \\\"size\\\"}\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"nodes\\\",\\n      \\\"source\\\": \\\"rawData\\\",\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"filter\\\",\\n          \\\"expr\\\": \\\"!groupSelector || groupSelector.stk1 == datum.stk1 || groupSelector.stk2 == datum.stk2\\\"\\n        },\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"datum.stk1+datum.stk2\\\", \\\"as\\\": \\\"key\\\"},\\n        {\\\"type\\\": \\\"fold\\\", \\\"fields\\\": [\\\"stk1\\\", \\\"stk2\\\"], \\\"as\\\": [\\\"stack\\\", \\\"grpId\\\"]},\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.stack == 'stk1' ? datum.stk1+datum.stk2 : datum.stk2+datum.stk1\\\",\\n          \\\"as\\\": \\\"sortField\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"stack\\\",\\n          \\\"groupby\\\": [\\\"stack\\\"],\\n          \\\"sort\\\": {\\\"field\\\": \\\"sortField\\\", \\\"order\\\": \\\"descending\\\"},\\n          \\\"field\\\": \\\"size\\\"\\n        },\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"(datum.y0+datum.y1)/2\\\", \\\"as\\\": \\\"yc\\\"}\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"groups\\\",\\n      \\\"source\\\": \\\"nodes\\\",\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"aggregate\\\",\\n          \\\"groupby\\\": [\\\"stack\\\", \\\"grpId\\\"],\\n          \\\"fields\\\": [\\\"size\\\"],\\n          \\\"ops\\\": [\\\"sum\\\"],\\n          \\\"as\\\": [\\\"total\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"stack\\\",\\n          \\\"groupby\\\": [\\\"stack\\\"],\\n          \\\"sort\\\": {\\\"field\\\": \\\"grpId\\\", \\\"order\\\": \\\"descending\\\"},\\n          \\\"field\\\": \\\"total\\\"\\n        },\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"scale('y', datum.y0)\\\", \\\"as\\\": \\\"scaledY0\\\"},\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"scale('y', datum.y1)\\\", \\\"as\\\": \\\"scaledY1\\\"},\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.stack == 'stk1'\\\",\\n          \\\"as\\\": \\\"rightLabel\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.total/domain('y')[1]\\\",\\n          \\\"as\\\": \\\"percentage\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"destinationNodes\\\",\\n      \\\"source\\\": \\\"nodes\\\",\\n      \\\"transform\\\": [{\\\"type\\\": \\\"filter\\\", \\\"expr\\\": \\\"datum.stack == 'stk2'\\\"}]\\n    },\\n    {\\n      \\\"name\\\": \\\"edges\\\",\\n      \\\"source\\\": \\\"nodes\\\",\\n      \\\"transform\\\": [\\n        {\\\"type\\\": \\\"filter\\\", \\\"expr\\\": \\\"datum.stack == 'stk1'\\\"},\\n        {\\n          \\\"type\\\": \\\"lookup\\\",\\n          \\\"from\\\": \\\"destinationNodes\\\",\\n          \\\"key\\\": \\\"key\\\",\\n          \\\"fields\\\": [\\\"key\\\"],\\n          \\\"as\\\": [\\\"target\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"linkpath\\\",\\n          \\\"orient\\\": \\\"horizontal\\\",\\n          \\\"shape\\\": \\\"diagonal\\\",\\n          \\\"sourceY\\\": {\\\"expr\\\": \\\"scale('y', datum.yc)\\\"},\\n          \\\"sourceX\\\": {\\\"expr\\\": \\\"scale('x', 'stk1') + bandwidth('x')\\\"},\\n          \\\"targetY\\\": {\\\"expr\\\": \\\"scale('y', datum.target.yc)\\\"},\\n          \\\"targetX\\\": {\\\"expr\\\": \\\"scale('x', 'stk2')\\\"}\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"range('y')[0]-scale('y', datum.size)\\\",\\n          \\\"as\\\": \\\"strokeWidth\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.size/domain('y')[1]\\\",\\n          \\\"as\\\": \\\"percentage\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"scales\\\": [\\n    {\\n      \\\"name\\\": \\\"x\\\",\\n      \\\"type\\\": \\\"band\\\",\\n      \\\"range\\\": \\\"width\\\",\\n      \\\"domain\\\": [\\\"stk1\\\", \\\"stk2\\\"],\\n      \\\"paddingOuter\\\": 0.05,\\n      \\\"paddingInner\\\": 0.95\\n    },\\n    {\\n      \\\"name\\\": \\\"y\\\",\\n      \\\"type\\\": \\\"linear\\\",\\n      \\\"range\\\": \\\"height\\\",\\n      \\\"domain\\\": {\\\"data\\\": \\\"nodes\\\", \\\"field\\\": \\\"y1\\\"}\\n    },\\n    {\\n      \\\"name\\\": \\\"color\\\",\\n      \\\"type\\\": \\\"ordinal\\\",\\n      \\\"range\\\": \\\"category\\\",\\n      \\\"domain\\\": {\\\"data\\\": \\\"rawData\\\", \\\"field\\\": \\\"stk1\\\"}\\n    },\\n    {\\n      \\\"name\\\": \\\"stackNames\\\",\\n      \\\"type\\\": \\\"ordinal\\\",\\n      \\\"range\\\": [\\\"User\\\", \\\"Index\\\"],\\n      \\\"domain\\\": [\\\"stk1\\\", \\\"stk2\\\"]\\n    }\\n  ],\\n  \\\"axes\\\": [\\n    {\\n      \\\"orient\\\": \\\"bottom\\\",\\n      \\\"scale\\\": \\\"x\\\",\\n      \\\"encode\\\": {\\n        \\\"labels\\\": {\\n          \\\"update\\\": {\\\"text\\\": {\\\"scale\\\": \\\"stackNames\\\", \\\"field\\\": \\\"value\\\"}}\\n        }\\n      }\\n    },\\n    {\\\"orient\\\": \\\"left\\\", \\\"scale\\\": \\\"y\\\"}\\n  ],\\n  \\\"marks\\\": [\\n    {\\n      \\\"type\\\": \\\"path\\\",\\n      \\\"name\\\": \\\"edgeMark\\\",\\n      \\\"from\\\": {\\\"data\\\": \\\"edges\\\"},\\n      \\\"clip\\\": true,\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"stroke\\\": [\\n            {\\n              \\\"test\\\": \\\"groupSelector && groupSelector.stack=='stk1'\\\",\\n              \\\"scale\\\": \\\"color\\\",\\n              \\\"field\\\": \\\"stk2\\\"\\n            },\\n            {\\\"scale\\\": \\\"color\\\", \\\"field\\\": \\\"stk1\\\"}\\n          ],\\n          \\\"strokeWidth\\\": {\\\"field\\\": \\\"strokeWidth\\\"},\\n          \\\"path\\\": {\\\"field\\\": \\\"path\\\"},\\n          \\\"strokeOpacity\\\": {\\n            \\\"signal\\\": \\\"!groupSelector && (groupHover.stk1 == datum.stk1 || groupHover.stk2 == datum.stk2) ? 0.9 : 0.3\\\"\\n          },\\n          \\\"zindex\\\": {\\n            \\\"signal\\\": \\\"!groupSelector && (groupHover.stk1 == datum.stk1 || groupHover.stk2 == datum.stk2) ? 1 : 0\\\"\\n          },\\n          \\\"tooltip\\\": {\\n            \\\"signal\\\": \\\"datum.stk1 + ' â†’ ' + datum.stk2 + '\\\\t' + format(datum.size, ',.0f') + '   (' + format(datum.percentage, '.1%') + ')'\\\"\\n          }\\n        },\\n        \\\"hover\\\": {\\\"strokeOpacity\\\": {\\\"value\\\": 1}}\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"rect\\\",\\n      \\\"name\\\": \\\"groupMark\\\",\\n      \\\"from\\\": {\\\"data\\\": \\\"groups\\\"},\\n      \\\"encode\\\": {\\n        \\\"enter\\\": {\\n          \\\"fill\\\": {\\\"scale\\\": \\\"color\\\", \\\"field\\\": \\\"grpId\\\"},\\n          \\\"width\\\": {\\\"scale\\\": \\\"x\\\", \\\"band\\\": 1}\\n        },\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"scale\\\": \\\"x\\\", \\\"field\\\": \\\"stack\\\"},\\n          \\\"y\\\": {\\\"field\\\": \\\"scaledY0\\\"},\\n          \\\"y2\\\": {\\\"field\\\": \\\"scaledY1\\\"},\\n          \\\"fillOpacity\\\": {\\\"value\\\": 0.6},\\n          \\\"tooltip\\\": {\\n            \\\"signal\\\": \\\"datum.grpId + '   ' + format(datum.total, ',.0f') + '   (' + format(datum.percentage, '.1%') + ')'\\\"\\n          }\\n        },\\n        \\\"hover\\\": {\\\"fillOpacity\\\": {\\\"value\\\": 1}}\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"from\\\": {\\\"data\\\": \\\"groups\\\"},\\n      \\\"interactive\\\": false,\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\n            \\\"signal\\\": \\\"scale('x', datum.stack) + (datum.rightLabel ? bandwidth('x') + 8 : -8)\\\"\\n          },\\n          \\\"yc\\\": {\\\"signal\\\": \\\"(datum.scaledY0 + datum.scaledY1)/2\\\"},\\n          \\\"align\\\": {\\\"signal\\\": \\\"datum.rightLabel ? 'left' : 'right'\\\"},\\n          \\\"baseline\\\": {\\\"value\\\": \\\"middle\\\"},\\n          \\\"fontWeight\\\": {\\\"value\\\": \\\"bold\\\"},\\n          \\\"text\\\": {\\n            \\\"signal\\\": \\\"abs(datum.scaledY0-datum.scaledY1) > 13 ? datum.grpId : ''\\\"\\n          }\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"group\\\",\\n      \\\"data\\\": [\\n        {\\n          \\\"name\\\": \\\"dataForShowAll\\\",\\n          \\\"values\\\": [{}],\\n          \\\"transform\\\": [{\\\"type\\\": \\\"filter\\\", \\\"expr\\\": \\\"groupSelector\\\"}]\\n        }\\n      ],\\n      \\\"encode\\\": {\\n        \\\"enter\\\": {\\n          \\\"xc\\\": {\\\"signal\\\": \\\"width/2\\\"},\\n          \\\"y\\\": {\\\"value\\\": 30},\\n          \\\"width\\\": {\\\"value\\\": 80},\\n          \\\"height\\\": {\\\"value\\\": 30}\\n        }\\n      },\\n      \\\"marks\\\": [\\n        {\\n          \\\"type\\\": \\\"group\\\",\\n          \\\"name\\\": \\\"groupReset\\\",\\n          \\\"from\\\": {\\\"data\\\": \\\"dataForShowAll\\\"},\\n          \\\"encode\\\": {\\n            \\\"enter\\\": {\\n              \\\"cornerRadius\\\": {\\\"value\\\": 6},\\n              \\\"fill\\\": {\\\"value\\\": \\\"#F5F7FA\\\"},\\n              \\\"stroke\\\": {\\\"value\\\": \\\"#c1c1c1\\\"},\\n              \\\"strokeWidth\\\": {\\\"value\\\": 2},\\n              \\\"height\\\": {\\\"field\\\": {\\\"group\\\": \\\"height\\\"}},\\n              \\\"width\\\": {\\\"field\\\": {\\\"group\\\": \\\"width\\\"}}\\n            },\\n            \\\"update\\\": {\\\"opacity\\\": {\\\"value\\\": 1}},\\n            \\\"hover\\\": {\\\"opacity\\\": {\\\"value\\\": 0.7}}\\n          },\\n          \\\"marks\\\": [\\n            {\\n              \\\"type\\\": \\\"text\\\",\\n              \\\"interactive\\\": false,\\n              \\\"encode\\\": {\\n                \\\"enter\\\": {\\n                  \\\"xc\\\": {\\\"field\\\": {\\\"group\\\": \\\"width\\\"}, \\\"mult\\\": 0.5},\\n                  \\\"yc\\\": {\\n                    \\\"field\\\": {\\\"group\\\": \\\"height\\\"},\\n                    \\\"mult\\\": 0.5,\\n                    \\\"offset\\\": 2\\n                  },\\n                  \\\"align\\\": {\\\"value\\\": \\\"center\\\"},\\n                  \\\"baseline\\\": {\\\"value\\\": \\\"middle\\\"},\\n                  \\\"fontWeight\\\": {\\\"value\\\": \\\"bold\\\"},\\n                  \\\"text\\\": {\\\"value\\\": \\\"Show All\\\"}\\n                }\\n              }\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"signals\\\": [\\n    {\\n      \\\"name\\\": \\\"groupHover\\\",\\n      \\\"value\\\": {},\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"@groupMark:mouseover\\\",\\n          \\\"update\\\": \\\"{stk1:datum.stack=='stk1' && datum.grpId, stk2:datum.stack=='stk2' && datum.grpId}\\\"\\n        },\\n        {\\\"events\\\": \\\"mouseout\\\", \\\"update\\\": \\\"{}\\\"}\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"groupSelector\\\",\\n      \\\"value\\\": false,\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"@groupMark:click!\\\",\\n          \\\"update\\\": \\\"{stack:datum.stack, stk1:datum.stack=='stk1' && datum.grpId, stk2:datum.stack=='stk2' && datum.grpId}\\\"\\n        },\\n        {\\n          \\\"events\\\": [\\n            {\\\"type\\\": \\\"click\\\", \\\"markname\\\": \\\"groupReset\\\"},\\n            {\\\"type\\\": \\\"dblclick\\\"}\\n          ],\\n          \\\"update\\\": \\\"false\\\"\\n        }\\n      ]\\n    }\\n  ]\\n}\"}}"},"coreMigrationVersion":"8.8.0","created_at":"2024-06-02T09:23:52.557Z","id":"61deb5b0-c1de-11ee-9181-1f8f17acb0e1","managed":false,"references":[{"id":"d5dd4650-b0e2-11ee-ad73-c1230f56bc9d","name":"tag-ref-d5dd4650-b0e2-11ee-ad73-c1230f56bc9d","type":"tag"}],"type":"visualization","typeMigrationVersion":"8.5.0","updated_at":"2024-06-03T16:48:32.112Z","version":"WzcwNCwxNl0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"title":"[Stack UAM] Sankey User to Application","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"[Stack UAM] Sankey User to Application\",\"type\":\"vega\",\"aggs\":[],\"params\":{\"spec\":\"{\\n  \\\"$schema\\\": \\\"https://vega.github.io/schema/vega/v5.json\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"name\\\": \\\"rawData\\\",\\n      \\\"url\\\": {\\n        \\\"%context%\\\": true,\\n        \\\"%timefield%\\\": \\\"@timestamp\\\",\\n        \\\"index\\\": \\\"elastic-logs-8*\\\",\\n        \\\"body\\\": {\\n          \\\"size\\\": 0,\\n          \\\"aggs\\\": {\\n            \\\"table\\\": {\\n              \\\"composite\\\": {\\n                \\\"size\\\": 10000,\\n                \\\"sources\\\": [\\n                  {\\\"stk1\\\": {\\\"terms\\\": {\\\"field\\\": \\\"user.name\\\"}}},\\n                  {\\n                    \\\"stk2\\\": {\\n                      \\\"terms\\\": {\\\"field\\\": \\\"elasticsearch.uam.application\\\"}\\n                    }\\n                  }\\n                ]\\n              }\\n            }\\n          }\\n        }\\n      },\\n      \\\"format\\\": {\\\"property\\\": \\\"aggregations.table.buckets\\\"},\\n      \\\"transform\\\": [\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"datum.key.stk1\\\", \\\"as\\\": \\\"stk1\\\"},\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"datum.key.stk2\\\", \\\"as\\\": \\\"stk2\\\"},\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"datum.doc_count\\\", \\\"as\\\": \\\"size\\\"}\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"nodes\\\",\\n      \\\"source\\\": \\\"rawData\\\",\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"filter\\\",\\n          \\\"expr\\\": \\\"!groupSelector || groupSelector.stk1 == datum.stk1 || groupSelector.stk2 == datum.stk2\\\"\\n        },\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"datum.stk1+datum.stk2\\\", \\\"as\\\": \\\"key\\\"},\\n        {\\\"type\\\": \\\"fold\\\", \\\"fields\\\": [\\\"stk1\\\", \\\"stk2\\\"], \\\"as\\\": [\\\"stack\\\", \\\"grpId\\\"]},\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.stack == 'stk1' ? datum.stk1+datum.stk2 : datum.stk2+datum.stk1\\\",\\n          \\\"as\\\": \\\"sortField\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"stack\\\",\\n          \\\"groupby\\\": [\\\"stack\\\"],\\n          \\\"sort\\\": {\\\"field\\\": \\\"sortField\\\", \\\"order\\\": \\\"descending\\\"},\\n          \\\"field\\\": \\\"size\\\"\\n        },\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"(datum.y0+datum.y1)/2\\\", \\\"as\\\": \\\"yc\\\"}\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"groups\\\",\\n      \\\"source\\\": \\\"nodes\\\",\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"aggregate\\\",\\n          \\\"groupby\\\": [\\\"stack\\\", \\\"grpId\\\"],\\n          \\\"fields\\\": [\\\"size\\\"],\\n          \\\"ops\\\": [\\\"sum\\\"],\\n          \\\"as\\\": [\\\"total\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"stack\\\",\\n          \\\"groupby\\\": [\\\"stack\\\"],\\n          \\\"sort\\\": {\\\"field\\\": \\\"grpId\\\", \\\"order\\\": \\\"descending\\\"},\\n          \\\"field\\\": \\\"total\\\"\\n        },\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"scale('y', datum.y0)\\\", \\\"as\\\": \\\"scaledY0\\\"},\\n        {\\\"type\\\": \\\"formula\\\", \\\"expr\\\": \\\"scale('y', datum.y1)\\\", \\\"as\\\": \\\"scaledY1\\\"},\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.stack == 'stk1'\\\",\\n          \\\"as\\\": \\\"rightLabel\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.total/domain('y')[1]\\\",\\n          \\\"as\\\": \\\"percentage\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"destinationNodes\\\",\\n      \\\"source\\\": \\\"nodes\\\",\\n      \\\"transform\\\": [{\\\"type\\\": \\\"filter\\\", \\\"expr\\\": \\\"datum.stack == 'stk2'\\\"}]\\n    },\\n    {\\n      \\\"name\\\": \\\"edges\\\",\\n      \\\"source\\\": \\\"nodes\\\",\\n      \\\"transform\\\": [\\n        {\\\"type\\\": \\\"filter\\\", \\\"expr\\\": \\\"datum.stack == 'stk1'\\\"},\\n        {\\n          \\\"type\\\": \\\"lookup\\\",\\n          \\\"from\\\": \\\"destinationNodes\\\",\\n          \\\"key\\\": \\\"key\\\",\\n          \\\"fields\\\": [\\\"key\\\"],\\n          \\\"as\\\": [\\\"target\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"linkpath\\\",\\n          \\\"orient\\\": \\\"horizontal\\\",\\n          \\\"shape\\\": \\\"diagonal\\\",\\n          \\\"sourceY\\\": {\\\"expr\\\": \\\"scale('y', datum.yc)\\\"},\\n          \\\"sourceX\\\": {\\\"expr\\\": \\\"scale('x', 'stk1') + bandwidth('x')\\\"},\\n          \\\"targetY\\\": {\\\"expr\\\": \\\"scale('y', datum.target.yc)\\\"},\\n          \\\"targetX\\\": {\\\"expr\\\": \\\"scale('x', 'stk2')\\\"}\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"range('y')[0]-scale('y', datum.size)\\\",\\n          \\\"as\\\": \\\"strokeWidth\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.size/domain('y')[1]\\\",\\n          \\\"as\\\": \\\"percentage\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"scales\\\": [\\n    {\\n      \\\"name\\\": \\\"x\\\",\\n      \\\"type\\\": \\\"band\\\",\\n      \\\"range\\\": \\\"width\\\",\\n      \\\"domain\\\": [\\\"stk1\\\", \\\"stk2\\\"],\\n      \\\"paddingOuter\\\": 0.05,\\n      \\\"paddingInner\\\": 0.95\\n    },\\n    {\\n      \\\"name\\\": \\\"y\\\",\\n      \\\"type\\\": \\\"linear\\\",\\n      \\\"range\\\": \\\"height\\\",\\n      \\\"domain\\\": {\\\"data\\\": \\\"nodes\\\", \\\"field\\\": \\\"y1\\\"}\\n    },\\n    {\\n      \\\"name\\\": \\\"color\\\",\\n      \\\"type\\\": \\\"ordinal\\\",\\n      \\\"range\\\": \\\"category\\\",\\n      \\\"domain\\\": {\\\"data\\\": \\\"rawData\\\", \\\"field\\\": \\\"stk1\\\"}\\n    },\\n    {\\n      \\\"name\\\": \\\"stackNames\\\",\\n      \\\"type\\\": \\\"ordinal\\\",\\n      \\\"range\\\": [\\\"User\\\", \\\"Application\\\"],\\n      \\\"domain\\\": [\\\"stk1\\\", \\\"stk2\\\"]\\n    }\\n  ],\\n  \\\"axes\\\": [\\n    {\\n      \\\"orient\\\": \\\"bottom\\\",\\n      \\\"scale\\\": \\\"x\\\",\\n      \\\"encode\\\": {\\n        \\\"labels\\\": {\\n          \\\"update\\\": {\\\"text\\\": {\\\"scale\\\": \\\"stackNames\\\", \\\"field\\\": \\\"value\\\"}}\\n        }\\n      }\\n    },\\n    {\\\"orient\\\": \\\"left\\\", \\\"scale\\\": \\\"y\\\"}\\n  ],\\n  \\\"marks\\\": [\\n    {\\n      \\\"type\\\": \\\"path\\\",\\n      \\\"name\\\": \\\"edgeMark\\\",\\n      \\\"from\\\": {\\\"data\\\": \\\"edges\\\"},\\n      \\\"clip\\\": true,\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"stroke\\\": [\\n            {\\n              \\\"test\\\": \\\"groupSelector && groupSelector.stack=='stk1'\\\",\\n              \\\"scale\\\": \\\"color\\\",\\n              \\\"field\\\": \\\"stk2\\\"\\n            },\\n            {\\\"scale\\\": \\\"color\\\", \\\"field\\\": \\\"stk1\\\"}\\n          ],\\n          \\\"strokeWidth\\\": {\\\"field\\\": \\\"strokeWidth\\\"},\\n          \\\"path\\\": {\\\"field\\\": \\\"path\\\"},\\n          \\\"strokeOpacity\\\": {\\n            \\\"signal\\\": \\\"!groupSelector && (groupHover.stk1 == datum.stk1 || groupHover.stk2 == datum.stk2) ? 0.9 : 0.3\\\"\\n          },\\n          \\\"zindex\\\": {\\n            \\\"signal\\\": \\\"!groupSelector && (groupHover.stk1 == datum.stk1 || groupHover.stk2 == datum.stk2) ? 1 : 0\\\"\\n          },\\n          \\\"tooltip\\\": {\\n            \\\"signal\\\": \\\"datum.stk1 + ' â†’ ' + datum.stk2 + '\\\\t' + format(datum.size, ',.0f') + '   (' + format(datum.percentage, '.1%') + ')'\\\"\\n          }\\n        },\\n        \\\"hover\\\": {\\\"strokeOpacity\\\": {\\\"value\\\": 1}}\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"rect\\\",\\n      \\\"name\\\": \\\"groupMark\\\",\\n      \\\"from\\\": {\\\"data\\\": \\\"groups\\\"},\\n      \\\"encode\\\": {\\n        \\\"enter\\\": {\\n          \\\"fill\\\": {\\\"scale\\\": \\\"color\\\", \\\"field\\\": \\\"grpId\\\"},\\n          \\\"width\\\": {\\\"scale\\\": \\\"x\\\", \\\"band\\\": 1}\\n        },\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"scale\\\": \\\"x\\\", \\\"field\\\": \\\"stack\\\"},\\n          \\\"y\\\": {\\\"field\\\": \\\"scaledY0\\\"},\\n          \\\"y2\\\": {\\\"field\\\": \\\"scaledY1\\\"},\\n          \\\"fillOpacity\\\": {\\\"value\\\": 0.6},\\n          \\\"tooltip\\\": {\\n            \\\"signal\\\": \\\"datum.grpId + '   ' + format(datum.total, ',.0f') + '   (' + format(datum.percentage, '.1%') + ')'\\\"\\n          }\\n        },\\n        \\\"hover\\\": {\\\"fillOpacity\\\": {\\\"value\\\": 1}}\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"from\\\": {\\\"data\\\": \\\"groups\\\"},\\n      \\\"interactive\\\": false,\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\n            \\\"signal\\\": \\\"scale('x', datum.stack) + (datum.rightLabel ? bandwidth('x') + 8 : -8)\\\"\\n          },\\n          \\\"yc\\\": {\\\"signal\\\": \\\"(datum.scaledY0 + datum.scaledY1)/2\\\"},\\n          \\\"align\\\": {\\\"signal\\\": \\\"datum.rightLabel ? 'left' : 'right'\\\"},\\n          \\\"baseline\\\": {\\\"value\\\": \\\"middle\\\"},\\n          \\\"fontWeight\\\": {\\\"value\\\": \\\"bold\\\"},\\n          \\\"text\\\": {\\n            \\\"signal\\\": \\\"abs(datum.scaledY0-datum.scaledY1) > 13 ? datum.grpId : ''\\\"\\n          }\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"group\\\",\\n      \\\"data\\\": [\\n        {\\n          \\\"name\\\": \\\"dataForShowAll\\\",\\n          \\\"values\\\": [{}],\\n          \\\"transform\\\": [{\\\"type\\\": \\\"filter\\\", \\\"expr\\\": \\\"groupSelector\\\"}]\\n        }\\n      ],\\n      \\\"encode\\\": {\\n        \\\"enter\\\": {\\n          \\\"xc\\\": {\\\"signal\\\": \\\"width/2\\\"},\\n          \\\"y\\\": {\\\"value\\\": 30},\\n          \\\"width\\\": {\\\"value\\\": 80},\\n          \\\"height\\\": {\\\"value\\\": 30}\\n        }\\n      },\\n      \\\"marks\\\": [\\n        {\\n          \\\"type\\\": \\\"group\\\",\\n          \\\"name\\\": \\\"groupReset\\\",\\n          \\\"from\\\": {\\\"data\\\": \\\"dataForShowAll\\\"},\\n          \\\"encode\\\": {\\n            \\\"enter\\\": {\\n              \\\"cornerRadius\\\": {\\\"value\\\": 6},\\n              \\\"fill\\\": {\\\"value\\\": \\\"#F5F7FA\\\"},\\n              \\\"stroke\\\": {\\\"value\\\": \\\"#c1c1c1\\\"},\\n              \\\"strokeWidth\\\": {\\\"value\\\": 2},\\n              \\\"height\\\": {\\\"field\\\": {\\\"group\\\": \\\"height\\\"}},\\n              \\\"width\\\": {\\\"field\\\": {\\\"group\\\": \\\"width\\\"}}\\n            },\\n            \\\"update\\\": {\\\"opacity\\\": {\\\"value\\\": 1}},\\n            \\\"hover\\\": {\\\"opacity\\\": {\\\"value\\\": 0.7}}\\n          },\\n          \\\"marks\\\": [\\n            {\\n              \\\"type\\\": \\\"text\\\",\\n              \\\"interactive\\\": false,\\n              \\\"encode\\\": {\\n                \\\"enter\\\": {\\n                  \\\"xc\\\": {\\\"field\\\": {\\\"group\\\": \\\"width\\\"}, \\\"mult\\\": 0.5},\\n                  \\\"yc\\\": {\\n                    \\\"field\\\": {\\\"group\\\": \\\"height\\\"},\\n                    \\\"mult\\\": 0.5,\\n                    \\\"offset\\\": 2\\n                  },\\n                  \\\"align\\\": {\\\"value\\\": \\\"center\\\"},\\n                  \\\"baseline\\\": {\\\"value\\\": \\\"middle\\\"},\\n                  \\\"fontWeight\\\": {\\\"value\\\": \\\"bold\\\"},\\n                  \\\"text\\\": {\\\"value\\\": \\\"Show All\\\"}\\n                }\\n              }\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"signals\\\": [\\n    {\\n      \\\"name\\\": \\\"groupHover\\\",\\n      \\\"value\\\": {},\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"@groupMark:mouseover\\\",\\n          \\\"update\\\": \\\"{stk1:datum.stack=='stk1' && datum.grpId, stk2:datum.stack=='stk2' && datum.grpId}\\\"\\n        },\\n        {\\\"events\\\": \\\"mouseout\\\", \\\"update\\\": \\\"{}\\\"}\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"groupSelector\\\",\\n      \\\"value\\\": false,\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"@groupMark:click!\\\",\\n          \\\"update\\\": \\\"{stack:datum.stack, stk1:datum.stack=='stk1' && datum.grpId, stk2:datum.stack=='stk2' && datum.grpId}\\\"\\n        },\\n        {\\n          \\\"events\\\": [\\n            {\\\"type\\\": \\\"click\\\", \\\"markname\\\": \\\"groupReset\\\"},\\n            {\\\"type\\\": \\\"dblclick\\\"}\\n          ],\\n          \\\"update\\\": \\\"false\\\"\\n        }\\n      ]\\n    }\\n  ]\\n}\"}}"},"coreMigrationVersion":"8.8.0","created_at":"2024-06-02T09:23:52.557Z","id":"05eb0ef0-c1e0-11ee-9181-1f8f17acb0e1","managed":false,"references":[{"id":"d5dd4650-b0e2-11ee-ad73-c1230f56bc9d","name":"tag-ref-d5dd4650-b0e2-11ee-ad73-c1230f56bc9d","type":"tag"}],"type":"visualization","typeMigrationVersion":"8.5.0","updated_at":"2024-06-03T16:48:48.862Z","version":"WzcwNiwxNl0="}
{"attributes":{"controlGroupInput":{"chainingSystem":"HIERARCHICAL","controlStyle":"oneLine","ignoreParentSettingsJSON":"{\"ignoreFilters\":false,\"ignoreQuery\":false,\"ignoreTimerange\":false,\"ignoreValidations\":false}","panelsJSON":"{\"86e9d31f-349e-4480-8e9b-0be694a24800\":{\"type\":\"optionsListControl\",\"order\":0,\"grow\":true,\"width\":\"medium\",\"explicitInput\":{\"id\":\"86e9d31f-349e-4480-8e9b-0be694a24800\",\"fieldName\":\"user.name\",\"title\":\"User\",\"grow\":true,\"width\":\"medium\",\"enhancements\":{}}},\"311ea704-3c12-497e-9214-f7b6a3073446\":{\"type\":\"optionsListControl\",\"order\":1,\"grow\":true,\"width\":\"medium\",\"explicitInput\":{\"id\":\"311ea704-3c12-497e-9214-f7b6a3073446\",\"fieldName\":\"elasticsearch.uam.application\",\"title\":\"Application\",\"grow\":true,\"width\":\"medium\",\"enhancements\":{}}},\"a7ee9efe-5bba-4379-b6c2-362e7dd46a14\":{\"type\":\"optionsListControl\",\"order\":2,\"grow\":true,\"width\":\"medium\",\"explicitInput\":{\"id\":\"a7ee9efe-5bba-4379-b6c2-362e7dd46a14\",\"fieldName\":\"elasticsearch.index.name\",\"title\":\"Indices\",\"grow\":true,\"width\":\"medium\",\"enhancements\":{}}}}"},"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"optionsJSON":"{\"useMargins\":true,\"syncColors\":true,\"syncCursor\":true,\"syncTooltips\":true,\"hidePanelTitles\":false}","panelsJSON":"[{\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":0,\"w\":24,\"h\":12,\"i\":\"bf577481-28eb-431c-aaed-db49c114e1bd\"},\"panelIndex\":\"bf577481-28eb-431c-aaed-db49c114e1bd\",\"embeddableConfig\":{\"savedVis\":{\"id\":\"\",\"title\":\"\",\"description\":\"\",\"type\":\"markdown\",\"params\":{\"fontSize\":12,\"openLinksInNewTab\":false,\"markdown\":\"**Audit Logging Extension**\\n\\nThis dashboard is designed to support with answering the following sorts of questions:\\n- Which index patterns are being searched the most?\\n- Which applications are my users visiting the most? (discover vs. dashboards vs. maps etc.)\\n- How many unique users have logged into Kibana? How many active users do I have per day? How long are my users spending in Kibana?\\n- What are the most common date ranges being searched?\\n- How expensive/slow are the queries that are being executed? Who is the \\\"worst performer\\\"? (requires slowlogs)\"},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}}},\"hidePanelTitles\":true,\"enhancements\":{}}},{\"type\":\"lens\",\"gridData\":{\"x\":24,\"y\":0,\"w\":6,\"h\":5,\"i\":\"e6239f95-11d2-4fc7-87fa-14a70f5936dc\"},\"panelIndex\":\"e6239f95-11d2-4fc7-87fa-14a70f5936dc\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsMetric\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-ff9ae455-a62c-4faf-8073-745f6ba6c8ab\"}],\"state\":{\"visualization\":{\"layerId\":\"ff9ae455-a62c-4faf-8073-745f6ba6c8ab\",\"layerType\":\"data\",\"metricAccessor\":\"811183e7-7f56-4bd3-b79f-0fe881f247cc\",\"showBar\":false,\"color\":\"#9170B8\"},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"formBased\":{\"layers\":{\"ff9ae455-a62c-4faf-8073-745f6ba6c8ab\":{\"columns\":{\"811183e7-7f56-4bd3-b79f-0fe881f247cc\":{\"label\":\"Median Time Window\",\"dataType\":\"number\",\"operationType\":\"median\",\"sourceField\":\"elasticsearch.uam.search.date_range.duration\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"duration\",\"params\":{\"decimals\":0,\"fromUnit\":\"days\",\"toUnit\":\"humanize\"}}},\"customLabel\":true}},\"columnOrder\":[\"811183e7-7f56-4bd3-b79f-0fe881f247cc\"],\"incompleteColumns\":{},\"sampling\":1,\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"enhancements\":{}}},{\"type\":\"lens\",\"gridData\":{\"x\":30,\"y\":0,\"w\":8,\"h\":5,\"i\":\"12798377-d473-4f35-9a77-b2ab0c9d6ac7\"},\"panelIndex\":\"12798377-d473-4f35-9a77-b2ab0c9d6ac7\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"description\":\"\",\"visualizationType\":\"lnsMetric\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-5e2cf36f-beac-4a40-9c03-d49e2fa17e54\"}],\"state\":{\"visualization\":{\"layerId\":\"5e2cf36f-beac-4a40-9c03-d49e2fa17e54\",\"layerType\":\"data\",\"metricAccessor\":\"38d1744f-8933-4de9-9263-b062eb3fe55b\",\"icon\":\"empty\",\"showBar\":false,\"color\":\"#D36086\"},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"type\":\"combined\",\"relation\":\"AND\",\"params\":[{\"query\":{\"match_phrase\":{\"event.dataset\":\"elasticsearch.audit\"}},\"meta\":{\"negate\":false,\"index\":\"elastic-cloud-logs-8\",\"key\":\"event.dataset\",\"field\":\"event.dataset\",\"params\":{\"query\":\"elasticsearch.audit\"},\"type\":\"phrase\",\"disabled\":false,\"alias\":null}},{\"meta\":{\"negate\":false,\"index\":\"elastic-cloud-logs-8\",\"key\":\"elasticsearch.uam.origination\",\"field\":\"elasticsearch.uam.origination\",\"params\":{\"query\":\"kibana\"},\"type\":\"phrase\",\"disabled\":false,\"alias\":null},\"query\":{\"match_phrase\":{\"elasticsearch.uam.origination\":\"kibana\"}}},{\"meta\":{\"disabled\":false,\"negate\":false,\"alias\":null,\"index\":\"elastic-cloud-logs-8\",\"key\":\"elasticsearch.uam.search.index\",\"field\":\"elasticsearch.uam.search.index\",\"value\":\"exists\",\"type\":\"exists\"},\"$state\":{\"store\":\"appState\"},\"query\":{\"exists\":{\"field\":\"elasticsearch.uam.search.index\"}}}],\"index\":\"d8dc066c-26c9-43ec-9fb8-6d4f87546e53\",\"disabled\":false,\"negate\":false,\"alias\":null},\"query\":{},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"formBased\":{\"layers\":{\"5e2cf36f-beac-4a40-9c03-d49e2fa17e54\":{\"columns\":{\"38d1744f-8933-4de9-9263-b062eb3fe55b\":{\"label\":\"Search requests\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"___records___\",\"params\":{\"emptyAsNull\":true},\"customLabel\":true}},\"columnOrder\":[\"38d1744f-8933-4de9-9263-b062eb3fe55b\"],\"incompleteColumns\":{},\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"hidePanelTitles\":false,\"enhancements\":{}}},{\"type\":\"lens\",\"gridData\":{\"x\":38,\"y\":0,\"w\":10,\"h\":5,\"i\":\"287bfd86-afa0-4c5f-b994-e6d4d7733f22\"},\"panelIndex\":\"287bfd86-afa0-4c5f-b994-e6d4d7733f22\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"description\":\"\",\"visualizationType\":\"lnsMetric\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-5e2cf36f-beac-4a40-9c03-d49e2fa17e54\"}],\"state\":{\"visualization\":{\"layerId\":\"5e2cf36f-beac-4a40-9c03-d49e2fa17e54\",\"layerType\":\"data\",\"metricAccessor\":\"38d1744f-8933-4de9-9263-b062eb3fe55b\",\"icon\":\"empty\",\"showBar\":false,\"color\":\"#6092C0\"},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"formBased\":{\"layers\":{\"5e2cf36f-beac-4a40-9c03-d49e2fa17e54\":{\"columns\":{\"38d1744f-8933-4de9-9263-b062eb3fe55b\":{\"label\":\"Indices searched\",\"dataType\":\"number\",\"operationType\":\"unique_count\",\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.uam.search.index\",\"isBucketed\":false,\"params\":{\"emptyAsNull\":true},\"customLabel\":true}},\"columnOrder\":[\"38d1744f-8933-4de9-9263-b062eb3fe55b\"],\"incompleteColumns\":{},\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"hidePanelTitles\":false,\"enhancements\":{}}},{\"type\":\"lens\",\"gridData\":{\"x\":24,\"y\":5,\"w\":6,\"h\":5,\"i\":\"f6e963d7-5b7a-4fd3-a22f-1e6710cbb707\"},\"panelIndex\":\"f6e963d7-5b7a-4fd3-a22f-1e6710cbb707\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"description\":\"\",\"visualizationType\":\"lnsMetric\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-5e2cf36f-beac-4a40-9c03-d49e2fa17e54\"}],\"state\":{\"visualization\":{\"layerId\":\"5e2cf36f-beac-4a40-9c03-d49e2fa17e54\",\"layerType\":\"data\",\"metricAccessor\":\"38d1744f-8933-4de9-9263-b062eb3fe55b\",\"icon\":\"empty\",\"showBar\":false,\"color\":\"#54B399\"},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"disabled\":false,\"negate\":false,\"alias\":null,\"index\":\"87b5c0a7-5d0f-4cd6-ad55-a9a15c4b7e4e\",\"key\":\"event.dataset\",\"field\":\"event.dataset\",\"params\":{\"query\":\"elasticsearch.audit\"},\"type\":\"phrase\"},\"query\":{\"match_phrase\":{\"event.dataset\":\"elasticsearch.audit\"}},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"formBased\":{\"layers\":{\"5e2cf36f-beac-4a40-9c03-d49e2fa17e54\":{\"columns\":{\"38d1744f-8933-4de9-9263-b062eb3fe55b\":{\"label\":\"Unique users\",\"dataType\":\"number\",\"operationType\":\"unique_count\",\"scale\":\"ratio\",\"sourceField\":\"user.name\",\"isBucketed\":false,\"params\":{\"emptyAsNull\":true},\"customLabel\":true}},\"columnOrder\":[\"38d1744f-8933-4de9-9263-b062eb3fe55b\"],\"incompleteColumns\":{},\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"hidePanelTitles\":false,\"enhancements\":{}}},{\"type\":\"lens\",\"gridData\":{\"x\":30,\"y\":5,\"w\":8,\"h\":5,\"i\":\"61e538fd-5cb7-4415-94a8-3b65841c17b7\"},\"panelIndex\":\"61e538fd-5cb7-4415-94a8-3b65841c17b7\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"description\":\"\",\"visualizationType\":\"lnsMetric\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-5e2cf36f-beac-4a40-9c03-d49e2fa17e54\"}],\"state\":{\"visualization\":{\"layerId\":\"5e2cf36f-beac-4a40-9c03-d49e2fa17e54\",\"layerType\":\"data\",\"metricAccessor\":\"38d1744f-8933-4de9-9263-b062eb3fe55b\",\"icon\":\"empty\",\"showBar\":false,\"color\":\"#E7664C\"},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"type\":\"combined\",\"relation\":\"AND\",\"params\":[{\"query\":{\"match_phrase\":{\"event.dataset\":\"elasticsearch.audit\"}},\"meta\":{\"negate\":false,\"index\":\"elastic-cloud-logs-8\",\"key\":\"event.dataset\",\"field\":\"event.dataset\",\"params\":{\"query\":\"elasticsearch.audit\"},\"type\":\"phrase\",\"disabled\":false,\"alias\":null}},{\"meta\":{\"negate\":false,\"index\":\"elastic-cloud-logs-8\",\"key\":\"elasticsearch.uam.origination\",\"field\":\"elasticsearch.uam.origination\",\"params\":{\"query\":\"kibana\"},\"type\":\"phrase\",\"disabled\":false,\"alias\":null},\"query\":{\"match_phrase\":{\"elasticsearch.uam.origination\":\"kibana\"}}},{\"meta\":{\"disabled\":false,\"negate\":false,\"alias\":null,\"index\":\"elastic-cloud-logs-8\",\"key\":\"elasticsearch.uam.search.index\",\"field\":\"elasticsearch.uam.search.index\",\"value\":\"exists\",\"type\":\"exists\"},\"$state\":{\"store\":\"appState\"},\"query\":{\"exists\":{\"field\":\"elasticsearch.uam.search.index\"}}}],\"index\":\"d8dc066c-26c9-43ec-9fb8-6d4f87546e53\",\"disabled\":false,\"negate\":false,\"alias\":null},\"query\":{},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"formBased\":{\"layers\":{\"5e2cf36f-beac-4a40-9c03-d49e2fa17e54\":{\"columns\":{\"38d1744f-8933-4de9-9263-b062eb3fe55b\":{\"label\":\"Unique Applications\",\"dataType\":\"number\",\"operationType\":\"unique_count\",\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.uam.application\",\"isBucketed\":false,\"params\":{\"emptyAsNull\":true},\"customLabel\":true}},\"columnOrder\":[\"38d1744f-8933-4de9-9263-b062eb3fe55b\"],\"incompleteColumns\":{},\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"hidePanelTitles\":false,\"enhancements\":{}}},{\"type\":\"lens\",\"gridData\":{\"x\":38,\"y\":5,\"w\":10,\"h\":5,\"i\":\"e4cc4d40-e554-4391-928b-1719598e77ba\"},\"panelIndex\":\"e4cc4d40-e554-4391-928b-1719598e77ba\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsMetric\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-ff9ae455-a62c-4faf-8073-745f6ba6c8ab\"}],\"state\":{\"visualization\":{\"layerId\":\"ff9ae455-a62c-4faf-8073-745f6ba6c8ab\",\"layerType\":\"data\",\"metricAccessor\":\"811183e7-7f56-4bd3-b79f-0fe881f247cc\",\"showBar\":false,\"color\":\"#DA8B45\"},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"formBased\":{\"layers\":{\"ff9ae455-a62c-4faf-8073-745f6ba6c8ab\":{\"columns\":{\"811183e7-7f56-4bd3-b79f-0fe881f247cc\":{\"label\":\"Max Time Window\",\"dataType\":\"number\",\"operationType\":\"max\",\"sourceField\":\"elasticsearch.uam.search.date_range.duration\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"duration\",\"params\":{\"decimals\":0,\"fromUnit\":\"days\"}}},\"customLabel\":true}},\"columnOrder\":[\"811183e7-7f56-4bd3-b79f-0fe881f247cc\"],\"incompleteColumns\":{},\"sampling\":1,\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"enhancements\":{}}},{\"type\":\"lens\",\"gridData\":{\"x\":24,\"y\":10,\"w\":12,\"h\":11,\"i\":\"535671b9-8103-4c69-9421-149319d3260c\"},\"panelIndex\":\"535671b9-8103-4c69-9421-149319d3260c\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"description\":\"\",\"visualizationType\":\"lnsPie\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-7a30e1cb-b84a-48ae-8269-cda70aab8f11\"}],\"state\":{\"visualization\":{\"shape\":\"donut\",\"layers\":[{\"layerId\":\"7a30e1cb-b84a-48ae-8269-cda70aab8f11\",\"primaryGroups\":[\"bc44e792-d065-4ead-898e-2a4ecb300e4c\"],\"metrics\":[\"df9579f5-c564-4c18-acbb-5001684d2d58\"],\"numberDisplay\":\"hidden\",\"categoryDisplay\":\"default\",\"legendDisplay\":\"show\",\"nestedLegend\":false,\"layerType\":\"data\",\"emptySizeRatio\":0.7,\"percentDecimals\":0}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"$state\":{\"store\":\"appState\"},\"meta\":{\"type\":\"combined\",\"relation\":\"AND\",\"params\":[{\"query\":{\"match_phrase\":{\"event.dataset\":\"elasticsearch.audit\"}},\"meta\":{\"negate\":false,\"index\":\"elastic-cloud-logs-8\",\"key\":\"event.dataset\",\"field\":\"event.dataset\",\"params\":{\"query\":\"elasticsearch.audit\"},\"type\":\"phrase\",\"disabled\":false,\"alias\":null}},{\"meta\":{\"negate\":false,\"index\":\"elastic-cloud-logs-8\",\"key\":\"elasticsearch.uam.origination\",\"field\":\"elasticsearch.uam.origination\",\"params\":{\"query\":\"kibana\"},\"type\":\"phrase\",\"disabled\":false,\"alias\":null},\"query\":{\"match_phrase\":{\"elasticsearch.uam.origination\":\"kibana\"}}}],\"index\":\"64e97aa6-dc2c-43c4-8837-153eb8d133a1\",\"disabled\":false,\"negate\":false,\"alias\":null},\"query\":{}}],\"datasourceStates\":{\"formBased\":{\"layers\":{\"7a30e1cb-b84a-48ae-8269-cda70aab8f11\":{\"columns\":{\"bc44e792-d065-4ead-898e-2a4ecb300e4c\":{\"label\":\"Top 5 values of elasticsearch.uam.application\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.uam.application\",\"isBucketed\":true,\"params\":{\"size\":5,\"orderBy\":{\"type\":\"column\",\"columnId\":\"df9579f5-c564-4c18-acbb-5001684d2d58\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false,\"parentFormat\":{\"id\":\"terms\"},\"include\":[],\"exclude\":[],\"includeIsRegex\":false,\"excludeIsRegex\":false,\"secondaryFields\":[]}},\"df9579f5-c564-4c18-acbb-5001684d2d58\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"___records___\",\"params\":{\"emptyAsNull\":true}}},\"columnOrder\":[\"bc44e792-d065-4ead-898e-2a4ecb300e4c\",\"df9579f5-c564-4c18-acbb-5001684d2d58\"],\"incompleteColumns\":{},\"sampling\":1,\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"enhancements\":{},\"hidePanelTitles\":false},\"title\":\"Apps\"},{\"type\":\"lens\",\"gridData\":{\"x\":36,\"y\":10,\"w\":12,\"h\":11,\"i\":\"e36a8ea1-845b-406a-ba9b-c42323dcb4d9\"},\"panelIndex\":\"e36a8ea1-845b-406a-ba9b-c42323dcb4d9\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"description\":\"\",\"visualizationType\":\"lnsPie\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-07d0a3fc-724f-4a5a-96d1-02e20c44c9cb\"}],\"state\":{\"visualization\":{\"shape\":\"donut\",\"layers\":[{\"layerId\":\"07d0a3fc-724f-4a5a-96d1-02e20c44c9cb\",\"primaryGroups\":[\"d03bef1f-9e91-47c1-9b7c-e3d824d741cb\"],\"metrics\":[\"29740ef4-4cb6-4c88-aa92-26e5113dc564\"],\"numberDisplay\":\"hidden\",\"categoryDisplay\":\"default\",\"legendDisplay\":\"hide\",\"nestedLegend\":false,\"layerType\":\"data\",\"emptySizeRatio\":0.7,\"percentDecimals\":0}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"formBased\":{\"layers\":{\"07d0a3fc-724f-4a5a-96d1-02e20c44c9cb\":{\"columns\":{\"d03bef1f-9e91-47c1-9b7c-e3d824d741cb\":{\"label\":\"Top 5 values of elasticsearch.uam.search.date_range.duration\",\"dataType\":\"number\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.uam.search.date_range.duration\",\"isBucketed\":true,\"params\":{\"size\":5,\"orderBy\":{\"type\":\"column\",\"columnId\":\"29740ef4-4cb6-4c88-aa92-26e5113dc564\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false,\"parentFormat\":{\"id\":\"terms\"},\"include\":[],\"exclude\":[],\"includeIsRegex\":false,\"excludeIsRegex\":false,\"secondaryFields\":[]}},\"29740ef4-4cb6-4c88-aa92-26e5113dc564\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"___records___\",\"params\":{\"emptyAsNull\":true}}},\"columnOrder\":[\"d03bef1f-9e91-47c1-9b7c-e3d824d741cb\",\"29740ef4-4cb6-4c88-aa92-26e5113dc564\"],\"sampling\":1,\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"enhancements\":{},\"hidePanelTitles\":false},\"title\":\"Time Windows (Days)\"},{\"type\":\"lens\",\"gridData\":{\"x\":0,\"y\":12,\"w\":12,\"h\":9,\"i\":\"28023849-5c2a-498a-ad47-a26e538a9a35\"},\"panelIndex\":\"28023849-5c2a-498a-ad47-a26e538a9a35\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"description\":\"\",\"visualizationType\":\"lnsPie\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-3b15564e-8632-4adb-9a5c-753ca6f75271\"}],\"state\":{\"visualization\":{\"shape\":\"donut\",\"layers\":[{\"layerId\":\"3b15564e-8632-4adb-9a5c-753ca6f75271\",\"primaryGroups\":[\"5c3887a7-d5c7-4eff-9c80-b7c0552ba6bd\"],\"metrics\":[\"dcca4cec-3a3f-4435-853d-5fa0660f66c4\"],\"numberDisplay\":\"hidden\",\"categoryDisplay\":\"default\",\"legendDisplay\":\"hide\",\"nestedLegend\":false,\"layerType\":\"data\",\"colorMapping\":{\"assignmentMode\":\"auto\",\"assignments\":[],\"specialAssignments\":[{\"rule\":{\"type\":\"other\"},\"color\":{\"type\":\"categorical\",\"paletteId\":\"neutral\",\"colorIndex\":1},\"touched\":false}],\"paletteId\":\"eui_amsterdam_color_blind\",\"colorMode\":{\"type\":\"categorical\"}},\"percentDecimals\":0,\"emptySizeRatio\":0.7}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"disabled\":false,\"negate\":false,\"alias\":null,\"index\":\"4aca0ef5-83a2-4066-981c-40d46a305b59\",\"key\":\"event.dataset\",\"field\":\"event.dataset\",\"params\":{\"query\":\"elasticsearch.audit\"},\"type\":\"phrase\"},\"query\":{\"match_phrase\":{\"event.dataset\":\"elasticsearch.audit\"}},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"formBased\":{\"layers\":{\"3b15564e-8632-4adb-9a5c-753ca6f75271\":{\"columns\":{\"5c3887a7-d5c7-4eff-9c80-b7c0552ba6bd\":{\"label\":\"Top 5 values of user.name\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"user.name\",\"isBucketed\":true,\"params\":{\"size\":5,\"orderBy\":{\"type\":\"column\",\"columnId\":\"dcca4cec-3a3f-4435-853d-5fa0660f66c4\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false,\"parentFormat\":{\"id\":\"terms\"},\"include\":[],\"exclude\":[],\"includeIsRegex\":false,\"excludeIsRegex\":false}},\"dcca4cec-3a3f-4435-853d-5fa0660f66c4\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"___records___\",\"params\":{\"emptyAsNull\":true}}},\"columnOrder\":[\"5c3887a7-d5c7-4eff-9c80-b7c0552ba6bd\",\"dcca4cec-3a3f-4435-853d-5fa0660f66c4\"],\"incompleteColumns\":{},\"sampling\":1,\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"hidePanelTitles\":false,\"enhancements\":{}},\"title\":\"Users\"},{\"type\":\"lens\",\"gridData\":{\"x\":12,\"y\":12,\"w\":12,\"h\":9,\"i\":\"10edd26e-39b6-47bc-aecd-4130eff25114\"},\"panelIndex\":\"10edd26e-39b6-47bc-aecd-4130eff25114\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"description\":\"\",\"visualizationType\":\"lnsPie\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-07d0a3fc-724f-4a5a-96d1-02e20c44c9cb\"}],\"state\":{\"visualization\":{\"shape\":\"donut\",\"layers\":[{\"layerId\":\"07d0a3fc-724f-4a5a-96d1-02e20c44c9cb\",\"primaryGroups\":[\"d03bef1f-9e91-47c1-9b7c-e3d824d741cb\"],\"metrics\":[\"29740ef4-4cb6-4c88-aa92-26e5113dc564\"],\"numberDisplay\":\"hidden\",\"categoryDisplay\":\"default\",\"legendDisplay\":\"hide\",\"nestedLegend\":false,\"layerType\":\"data\",\"emptySizeRatio\":0.7,\"percentDecimals\":0}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"formBased\":{\"layers\":{\"07d0a3fc-724f-4a5a-96d1-02e20c44c9cb\":{\"columns\":{\"d03bef1f-9e91-47c1-9b7c-e3d824d741cb\":{\"label\":\"Top 5 values of elasticsearch.uam.search.index\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.uam.search.index\",\"isBucketed\":true,\"params\":{\"size\":5,\"orderBy\":{\"type\":\"column\",\"columnId\":\"29740ef4-4cb6-4c88-aa92-26e5113dc564\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false,\"parentFormat\":{\"id\":\"terms\"},\"include\":[],\"exclude\":[],\"includeIsRegex\":false,\"excludeIsRegex\":false,\"secondaryFields\":[]}},\"29740ef4-4cb6-4c88-aa92-26e5113dc564\":{\"label\":\"Count of records\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"___records___\",\"params\":{\"emptyAsNull\":true}}},\"columnOrder\":[\"d03bef1f-9e91-47c1-9b7c-e3d824d741cb\",\"29740ef4-4cb6-4c88-aa92-26e5113dc564\"],\"sampling\":1,\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"enhancements\":{},\"hidePanelTitles\":false},\"title\":\"Indices\"},{\"type\":\"lens\",\"gridData\":{\"x\":0,\"y\":21,\"w\":24,\"h\":9,\"i\":\"005d1993-fe21-40f8-9426-c2827942c0f9\"},\"panelIndex\":\"005d1993-fe21-40f8-9426-c2827942c0f9\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"description\":\"\",\"visualizationType\":\"lnsXY\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-546d3d76-0223-416f-ad73-8a54c3b66a6d\"}],\"state\":{\"visualization\":{\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"valueLabels\":\"hide\",\"fittingFunction\":\"Zero\",\"curveType\":\"CURVE_MONOTONE_X\",\"hideEndzones\":true,\"showCurrentTimeMarker\":false,\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"gridlinesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"preferredSeriesType\":\"line\",\"layers\":[{\"layerId\":\"546d3d76-0223-416f-ad73-8a54c3b66a6d\",\"accessors\":[\"76594234-de71-40eb-8886-fab10555c867\"],\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"layerType\":\"data\",\"xAccessor\":\"c730a2af-c8d1-448c-a41e-78cfd703aa51\",\"yConfig\":[{\"forAccessor\":\"76594234-de71-40eb-8886-fab10555c867\",\"color\":\"#9170b8\"}]}],\"emphasizeFitting\":true},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"type\":\"combined\",\"relation\":\"AND\",\"params\":[{\"query\":{\"match_phrase\":{\"event.dataset\":\"elasticsearch.audit\"}},\"meta\":{\"negate\":false,\"index\":\"elastic-cloud-logs-8\",\"key\":\"event.dataset\",\"field\":\"event.dataset\",\"params\":{\"query\":\"elasticsearch.audit\"},\"type\":\"phrase\",\"disabled\":false,\"alias\":null}},{\"meta\":{\"negate\":false,\"index\":\"elastic-cloud-logs-8\",\"key\":\"elasticsearch.uam.origination\",\"field\":\"elasticsearch.uam.origination\",\"params\":{\"query\":\"kibana\"},\"type\":\"phrase\",\"disabled\":false,\"alias\":null},\"query\":{\"match_phrase\":{\"elasticsearch.uam.origination\":\"kibana\"}}},{\"meta\":{\"disabled\":false,\"negate\":false,\"alias\":null,\"index\":\"elastic-cloud-logs-8\",\"key\":\"elasticsearch.uam.search.index\",\"field\":\"elasticsearch.uam.search.index\",\"value\":\"exists\",\"type\":\"exists\"},\"$state\":{\"store\":\"appState\"},\"query\":{\"exists\":{\"field\":\"elasticsearch.uam.search.index\"}}}],\"index\":\"16c95fcf-9d02-44f8-b646-2fc5b946647e\",\"disabled\":false,\"negate\":false,\"alias\":null},\"query\":{},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"formBased\":{\"layers\":{\"546d3d76-0223-416f-ad73-8a54c3b66a6d\":{\"columns\":{\"c730a2af-c8d1-448c-a41e-78cfd703aa51\":{\"label\":\"@timestamp\",\"dataType\":\"date\",\"operationType\":\"date_histogram\",\"sourceField\":\"@timestamp\",\"isBucketed\":true,\"scale\":\"interval\",\"params\":{\"interval\":\"auto\",\"includeEmptyRows\":true,\"dropPartials\":true}},\"76594234-de71-40eb-8886-fab10555c867\":{\"label\":\"Search Activity\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"___records___\",\"params\":{\"emptyAsNull\":true},\"customLabel\":true}},\"columnOrder\":[\"c730a2af-c8d1-448c-a41e-78cfd703aa51\",\"76594234-de71-40eb-8886-fab10555c867\"],\"sampling\":1,\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"enhancements\":{},\"hidePanelTitles\":false},\"title\":\"Search Requests\"},{\"type\":\"lens\",\"gridData\":{\"x\":24,\"y\":21,\"w\":24,\"h\":9,\"i\":\"b8aa7e62-0601-4b9d-ab23-e87183286d06\"},\"panelIndex\":\"b8aa7e62-0601-4b9d-ab23-e87183286d06\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsXY\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-f70d6c1f-683c-45d7-bed0-08d54ead4fbc\"}],\"state\":{\"visualization\":{\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"valueLabels\":\"hide\",\"fittingFunction\":\"None\",\"yTitle\":\"Auth\",\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"preferredSeriesType\":\"bar\",\"layers\":[{\"layerId\":\"f70d6c1f-683c-45d7-bed0-08d54ead4fbc\",\"seriesType\":\"bar_stacked\",\"xAccessor\":\"2923d2b4-f1c8-4ec1-a996-16f1542f18e9\",\"accessors\":[\"06500ee8-83e8-4480-882c-189d2f749dea\",\"dbac1700-35ea-485d-98dc-b0e4470f14a5\",\"b1002098-c3aa-4441-87ef-9dc418a1421b\"],\"yConfig\":[{\"forAccessor\":\"b1002098-c3aa-4441-87ef-9dc418a1421b\",\"color\":\"#d73f21\"},{\"forAccessor\":\"06500ee8-83e8-4480-882c-189d2f749dea\",\"color\":\"#54b399\"},{\"forAccessor\":\"dbac1700-35ea-485d-98dc-b0e4470f14a5\",\"color\":\"#d6bf57\"}],\"layerType\":\"data\"}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"formBased\":{\"layers\":{\"f70d6c1f-683c-45d7-bed0-08d54ead4fbc\":{\"columns\":{\"2923d2b4-f1c8-4ec1-a996-16f1542f18e9\":{\"label\":\"@timestamp\",\"dataType\":\"date\",\"operationType\":\"date_histogram\",\"sourceField\":\"@timestamp\",\"isBucketed\":true,\"scale\":\"interval\",\"params\":{\"interval\":\"auto\",\"includeEmptyRows\":true,\"dropPartials\":true}},\"06500ee8-83e8-4480-882c-189d2f749dea\":{\"label\":\"Login Success\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"___records___\",\"params\":{\"emptyAsNull\":true},\"filter\":{\"query\":\"event.dataset: kibana.audit AND event.category: authentication AND event.action: user_login AND event.outcome: success\",\"language\":\"kuery\"},\"customLabel\":true},\"b1002098-c3aa-4441-87ef-9dc418a1421b\":{\"label\":\"Login Fail\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"___records___\",\"filter\":{\"query\":\"event.dataset: kibana.audit AND event.category: authentication AND event.action: user_login AND event.outcome: \\\"failure\\\"  \",\"language\":\"kuery\"},\"params\":{\"emptyAsNull\":true},\"customLabel\":true},\"dbac1700-35ea-485d-98dc-b0e4470f14a5\":{\"label\":\"Logout\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"___records___\",\"filter\":{\"query\":\"event.dataset: kibana.audit AND event.category: authentication AND event.action: user_logout\",\"language\":\"kuery\"},\"params\":{\"emptyAsNull\":true},\"customLabel\":true}},\"columnOrder\":[\"2923d2b4-f1c8-4ec1-a996-16f1542f18e9\",\"06500ee8-83e8-4480-882c-189d2f749dea\",\"dbac1700-35ea-485d-98dc-b0e4470f14a5\",\"b1002098-c3aa-4441-87ef-9dc418a1421b\"],\"incompleteColumns\":{},\"sampling\":1,\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"hidePanelTitles\":false,\"enhancements\":{}},\"title\":\"Auth Events\"},{\"type\":\"lens\",\"gridData\":{\"x\":0,\"y\":30,\"w\":48,\"h\":9,\"i\":\"ac37c264-e80f-4613-8453-86e445f276fc\"},\"panelIndex\":\"ac37c264-e80f-4613-8453-86e445f276fc\",\"embeddableConfig\":{\"attributes\":{\"title\":\"\",\"description\":\"\",\"visualizationType\":\"lnsXY\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"46657a83-8171-4071-a830-376ddfa5907e\",\"name\":\"indexpattern-datasource-layer-546d3d76-0223-416f-ad73-8a54c3b66a6d\"}],\"state\":{\"visualization\":{\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"valueLabels\":\"hide\",\"fittingFunction\":\"Zero\",\"curveType\":\"CURVE_MONOTONE_X\",\"hideEndzones\":true,\"showCurrentTimeMarker\":false,\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"gridlinesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"preferredSeriesType\":\"line\",\"layers\":[{\"layerId\":\"546d3d76-0223-416f-ad73-8a54c3b66a6d\",\"accessors\":[\"76594234-de71-40eb-8886-fab10555c867\"],\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"layerType\":\"data\",\"xAccessor\":\"c730a2af-c8d1-448c-a41e-78cfd703aa51\",\"yConfig\":[{\"forAccessor\":\"76594234-de71-40eb-8886-fab10555c867\",\"color\":\"#9170b8\"}],\"splitAccessor\":\"c915572c-9578-4e96-8b23-4a8c8b4522c5\"}],\"emphasizeFitting\":true},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"type\":\"combined\",\"relation\":\"AND\",\"params\":[{\"query\":{\"match_phrase\":{\"event.dataset\":\"elasticsearch.audit\"}},\"meta\":{\"negate\":false,\"index\":\"elastic-cloud-logs-8\",\"key\":\"event.dataset\",\"field\":\"event.dataset\",\"params\":{\"query\":\"elasticsearch.audit\"},\"type\":\"phrase\",\"disabled\":false,\"alias\":null}},{\"meta\":{\"negate\":false,\"index\":\"elastic-cloud-logs-8\",\"key\":\"elasticsearch.uam.search.index\",\"field\":\"elasticsearch.uam.search.index\",\"value\":\"exists\",\"type\":\"exists\",\"disabled\":false,\"alias\":null},\"query\":{\"exists\":{\"field\":\"elasticsearch.uam.search.index\"}}}],\"index\":\"d1ce37a1-cb5c-49d5-bf60-35391b5fdd54\",\"disabled\":false,\"negate\":false,\"alias\":null},\"query\":{},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"formBased\":{\"layers\":{\"546d3d76-0223-416f-ad73-8a54c3b66a6d\":{\"columns\":{\"c730a2af-c8d1-448c-a41e-78cfd703aa51\":{\"label\":\"@timestamp\",\"dataType\":\"date\",\"operationType\":\"date_histogram\",\"sourceField\":\"@timestamp\",\"isBucketed\":true,\"scale\":\"interval\",\"params\":{\"interval\":\"auto\",\"includeEmptyRows\":true,\"dropPartials\":true}},\"76594234-de71-40eb-8886-fab10555c867\":{\"label\":\"Search Activity\",\"dataType\":\"number\",\"operationType\":\"count\",\"isBucketed\":false,\"scale\":\"ratio\",\"sourceField\":\"___records___\",\"params\":{\"emptyAsNull\":true},\"customLabel\":true},\"c915572c-9578-4e96-8b23-4a8c8b4522c5\":{\"label\":\"Top 5 values of elasticsearch.uam.search.index\",\"dataType\":\"string\",\"operationType\":\"terms\",\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.uam.search.index\",\"isBucketed\":true,\"params\":{\"size\":5,\"orderBy\":{\"type\":\"column\",\"columnId\":\"76594234-de71-40eb-8886-fab10555c867\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false,\"parentFormat\":{\"id\":\"terms\"},\"include\":[],\"exclude\":[],\"includeIsRegex\":false,\"excludeIsRegex\":false,\"secondaryFields\":[]}}},\"columnOrder\":[\"c915572c-9578-4e96-8b23-4a8c8b4522c5\",\"c730a2af-c8d1-448c-a41e-78cfd703aa51\",\"76594234-de71-40eb-8886-fab10555c867\"],\"sampling\":1,\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"}},\"currentIndexPatternId\":\"46657a83-8171-4071-a830-376ddfa5907e\"},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}},\"enhancements\":{},\"hidePanelTitles\":false},\"title\":\"Indices Searched\"},{\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":39,\"w\":24,\"h\":27,\"i\":\"682a3ea9-80b0-4e5b-977a-e27a1d118d79\"},\"panelIndex\":\"682a3ea9-80b0-4e5b-977a-e27a1d118d79\",\"embeddableConfig\":{\"hidePanelTitles\":false,\"enhancements\":{}},\"title\":\"User to Index\",\"panelRefName\":\"panel_682a3ea9-80b0-4e5b-977a-e27a1d118d79\"},{\"type\":\"visualization\",\"gridData\":{\"x\":24,\"y\":39,\"w\":24,\"h\":27,\"i\":\"d6783168-4595-4ea5-b949-4290f3dfd148\"},\"panelIndex\":\"d6783168-4595-4ea5-b949-4290f3dfd148\",\"embeddableConfig\":{\"hidePanelTitles\":false,\"enhancements\":{}},\"title\":\"User to Application\",\"panelRefName\":\"panel_d6783168-4595-4ea5-b949-4290f3dfd148\"}]","timeRestore":false,"title":"[Stack UAM] Kibana Search Activity","version":1},"coreMigrationVersion":"8.8.0","created_at":"2024-06-04T13:52:17.460Z","id":"db2952c0-b0e2-11ee-ad73-c1230f56bc9d","managed":false,"references":[{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"e6239f95-11d2-4fc7-87fa-14a70f5936dc:indexpattern-datasource-layer-ff9ae455-a62c-4faf-8073-745f6ba6c8ab","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"12798377-d473-4f35-9a77-b2ab0c9d6ac7:indexpattern-datasource-layer-5e2cf36f-beac-4a40-9c03-d49e2fa17e54","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"287bfd86-afa0-4c5f-b994-e6d4d7733f22:indexpattern-datasource-layer-5e2cf36f-beac-4a40-9c03-d49e2fa17e54","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"f6e963d7-5b7a-4fd3-a22f-1e6710cbb707:indexpattern-datasource-layer-5e2cf36f-beac-4a40-9c03-d49e2fa17e54","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"61e538fd-5cb7-4415-94a8-3b65841c17b7:indexpattern-datasource-layer-5e2cf36f-beac-4a40-9c03-d49e2fa17e54","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"e4cc4d40-e554-4391-928b-1719598e77ba:indexpattern-datasource-layer-ff9ae455-a62c-4faf-8073-745f6ba6c8ab","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"535671b9-8103-4c69-9421-149319d3260c:indexpattern-datasource-layer-7a30e1cb-b84a-48ae-8269-cda70aab8f11","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"e36a8ea1-845b-406a-ba9b-c42323dcb4d9:indexpattern-datasource-layer-07d0a3fc-724f-4a5a-96d1-02e20c44c9cb","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"28023849-5c2a-498a-ad47-a26e538a9a35:indexpattern-datasource-layer-3b15564e-8632-4adb-9a5c-753ca6f75271","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"10edd26e-39b6-47bc-aecd-4130eff25114:indexpattern-datasource-layer-07d0a3fc-724f-4a5a-96d1-02e20c44c9cb","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"005d1993-fe21-40f8-9426-c2827942c0f9:indexpattern-datasource-layer-546d3d76-0223-416f-ad73-8a54c3b66a6d","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"b8aa7e62-0601-4b9d-ab23-e87183286d06:indexpattern-datasource-layer-f70d6c1f-683c-45d7-bed0-08d54ead4fbc","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"ac37c264-e80f-4613-8453-86e445f276fc:indexpattern-datasource-layer-546d3d76-0223-416f-ad73-8a54c3b66a6d","type":"index-pattern"},{"id":"61deb5b0-c1de-11ee-9181-1f8f17acb0e1","name":"682a3ea9-80b0-4e5b-977a-e27a1d118d79:panel_682a3ea9-80b0-4e5b-977a-e27a1d118d79","type":"visualization"},{"id":"05eb0ef0-c1e0-11ee-9181-1f8f17acb0e1","name":"d6783168-4595-4ea5-b949-4290f3dfd148:panel_d6783168-4595-4ea5-b949-4290f3dfd148","type":"visualization"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"controlGroup_86e9d31f-349e-4480-8e9b-0be694a24800:optionsListDataView","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"controlGroup_311ea704-3c12-497e-9214-f7b6a3073446:optionsListDataView","type":"index-pattern"},{"id":"46657a83-8171-4071-a830-376ddfa5907e","name":"controlGroup_a7ee9efe-5bba-4379-b6c2-362e7dd46a14:optionsListDataView","type":"index-pattern"},{"id":"d5dd4650-b0e2-11ee-ad73-c1230f56bc9d","name":"tag-ref-d5dd4650-b0e2-11ee-ad73-c1230f56bc9d","type":"tag"}],"type":"dashboard","typeMigrationVersion":"8.9.0","updated_at":"2024-06-04T13:52:17.460Z","version":"WzcxOCwxNl0="}
{"excludedObjects":[],"excludedObjectsCount":0,"exportedCount":4,"missingRefCount":1,"missingReferences":[{"id":"46657a83-8171-4071-a830-376ddfa5907e","type":"index-pattern"}]}
